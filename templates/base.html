<!DOCTYPE html>
<html>
<head>
    <title>{% block title %}Wallet Dashboard{% endblock %}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% if config.WTF_CSRF_ENABLED %}
    <meta name="csrf-token" content="{{ csrf_token() }}">
    {% endif %}
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon-concept-d-chart-shield.svg') }}">
    {% block extra_head %}{% endblock %}
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0e27;
            color: #e0e0e0;
            padding: 20px;
            line-height: 1.6;
        }
        .container { max-width: 1800px; margin: 0 auto; }

        /* Navigation */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            padding-bottom: 15px;
            border-bottom: 2px solid #1e2645;
        }
        .navbar-left { display: flex; gap: 10px; align-items: center; }
        .navbar-right { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }

        /* Breadcrumbs */
        .breadcrumbs {
            display: flex;
            gap: 8px;
            align-items: center;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: #8b92b0;
        }
        .breadcrumbs a {
            color: #00d4ff;
            text-decoration: none;
            transition: all 0.2s;
        }
        .breadcrumbs a:hover { text-decoration: underline; }
        .breadcrumbs .separator { color: #8b92b0; }
        .breadcrumbs .current { color: #00d4ff; font-weight: 600; }

        /* Navigation Links */
        .nav-link {
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.2s;
            display: inline-block;
            border: 1px solid transparent;
        }
        .nav-link-primary {
            background: #00d4ff;
            color: #0a0e27;
        }
        .nav-link-primary:hover {
            background: #00b8e6;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }
        .nav-link-secondary {
            background: #252b4a;
            color: #fff;
            border-color: #3d4a6b;
        }
        .nav-link-secondary:hover {
            background: #3d4a6b;
        }
        .nav-link-secondary.active {
            background: #00d4ff;
            color: #0a0e27;
            border-color: #00d4ff;
        }

        /* Page Header */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        h1 {
            color: #00d4ff;
            margin-bottom: 8px;
            font-size: 2rem;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }
        h2 {
            color: #00d4ff;
            margin-bottom: 15px;
            font-size: 1.3rem;
            border-bottom: 2px solid #1e2645;
            padding-bottom: 8px;
        }
        h3 { color: #00d4ff; margin-bottom: 10px; font-size: 1.1rem; }
        .page-subtitle { color: #8b92b0; font-size: 0.9rem; }

        /* Cards & Sections */
        .section { background: #151a33; border: 1px solid #1e2645; border-radius: 8px; padding: 20px; margin-bottom: 20px; }
        .card { background: #151a33; border: 1px solid #1e2645; border-radius: 8px; padding: 20px; margin-bottom: 20px; }
        .card-small { background: #151a33; border: 1px solid #1e2645; border-radius: 8px; padding: 15px; }

        /* Grid Layouts */
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 20px; }
        .grid-2 { display: grid; grid-template-columns: 1fr; gap: 20px; margin-bottom: 20px; }
        @media(min-width: 1200px) { .grid-2 { grid-template-columns: 1fr 1fr; } }
        .grid-3 { display: grid; grid-template-columns: 1fr; gap: 20px; margin-bottom: 20px; }
        @media(min-width: 900px) { .grid-3 { grid-template-columns: 1fr 1fr; } }
        @media(min-width: 1400px) { .grid-3 { grid-template-columns: 1fr 1fr 1fr; } }

        /* Typography */
        .muted { color: #8b92b0; font-size: 0.9rem; }
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .empty { color: #8b92b0; font-style: italic; padding: 20px; text-align: center; }

        /* Buttons */
        .btn { padding: 8px 16px; border-radius: 4px; background: #00d4ff; color: #0a0e27; text-decoration: none; font-weight: 600; display: inline-block; transition: all 0.2s; border: none; cursor: pointer; font-size: 0.9rem; }
        .btn:hover { background: #00b8e6; box-shadow: 0 0 10px rgba(0, 212, 255, 0.3); }
        .btn-secondary { background: #252b4a; color: #fff; border: 1px solid #3d4a6b; }
        .btn-secondary:hover { background: #3d4a6b; }
        .btn-small { padding: 6px 12px; font-size: 0.8rem; }

        /* Tables */
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 12px; border-bottom: 1px solid #1e2645; text-align: left; font-size: 0.9rem; }
        th { color: #00d4ff; background: #1a1f3a; font-weight: 600; }
        tr:hover { background: #1a1f3a; }
        .scroll-table { overflow-x: auto; }

        /* Badges & Pills */
        .badge { display: inline-block; padding: 3px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; background: #252b4a; color: #8b92b0; }
        .badge-primary { background: #00d4ff22; color: #00d4ff; }
        .pill { display: inline-block; padding: 4px 10px; border-radius: 999px; font-weight: 600; font-size: 0.85rem; }
        .pill-pos { background: #00ff8844; color: #00ff88; }
        .pill-neg { background: #ff475744; color: #ff4757; }
        .pill-neutral { background: #66666644; color: #999; }

        /* Forms */
        select, input { padding: 8px 12px; background: #1a1f3a; color: #e0e0e0; border: 1px solid #252b4a; border-radius: 4px; font-size: 0.9rem; }
        select:focus, input:focus { outline: none; border-color: #00d4ff; box-shadow: 0 0 5px rgba(0, 212, 255, 0.3); }

        /* Charts */
        .chart-container { position: relative; height: 300px; margin-top: 15px; }

        /* Metrics */
        .metric-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #1e2645; }
        .metric-row:last-child { border-bottom: none; }
        .metric-label { color: #8b92b0; font-size: 0.9rem; }
        .metric-value { font-weight: 600; font-size: 1.1rem; }
        .big-number { font-size: 2.5rem; font-weight: 700; margin-top: 8px; color: #00d4ff; }
        .medium-number { font-size: 1.8rem; font-weight: 700; margin-top: 5px; }

        /* Filters */
        .controls { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
        .filter-bar { display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; align-items: center; }
        .filter-btn { padding: 6px 14px; border-radius: 4px; background: #1a1f3a; color: #8b92b0; border: 1px solid #252b4a; cursor: pointer; font-size: 0.85rem; transition: all 0.2s; }
        .filter-btn:hover { background: #252b4a; color: #e0e0e0; }
        .filter-btn.active { background: #00d4ff; color: #0a0e27; border-color: #00d4ff; }
        .search-input { flex: 1; min-width: 200px; }

        /* Hamburger Menu */
        .hamburger {
            display: none;
            flex-direction: column;
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px;
            gap: 5px;
        }
        .hamburger span {
            width: 25px;
            height: 3px;
            background: #00d4ff;
            border-radius: 2px;
            transition: all 0.3s;
        }
        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(8px, 8px);
        }
        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }
        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -7px);
        }

        .nav-menu {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* Mobile */
        @media (max-width: 768px) {
            .hamburger { display: flex; }
            .navbar { flex-direction: row; align-items: center; justify-content: space-between; }
            .navbar-left {
                position: absolute;
                top: 80px;
                left: 20px;
                right: 20px;
                background: #151a33;
                border: 1px solid #1e2645;
                border-radius: 8px;
                flex-direction: column;
                gap: 5px;
                padding: 10px;
                display: none;
                z-index: 1000;
            }
            .navbar-left.active { display: flex; }
            .navbar-left .nav-link { width: 100%; text-align: left; }
            .navbar-right { width: 100%; flex-wrap: wrap; justify-content: flex-end; }
            .page-header { flex-direction: column; }
            h1 { font-size: 1.5rem; }
            .navbar-left, .navbar-right { width: auto; }
        }

        {% block extra_styles %}{% endblock %}
    </style>
</head>
<body>
    <div class="container">
        <!-- Breadcrumbs -->
        {% block breadcrumbs %}{% endblock %}

        <!-- Navigation Bar -->
        <div class="navbar">
            <button class="hamburger" onclick="toggleMobileMenu(this)">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="navbar-left">
                <a href="/" class="nav-link nav-link-secondary {% if request.path == '/' %}active{% endif %}">ðŸ“Š Overview</a>
                <a href="/admin/strategies" class="nav-link nav-link-secondary {% if '/strategies' in request.path %}active{% endif %}">ðŸŽ¯ Strategies</a>
                <a href="/admin" class="nav-link nav-link-secondary {% if request.path == '/admin' %}active{% endif %}">ðŸ’¼ Wallets</a>
            </div>
            <div class="navbar-right">
                {% block navbar_right %}{% endblock %}
            </div>
        </div>

        <script>
            function toggleMobileMenu(button) {
                button.classList.toggle('active');
                const navLeft = button.nextElementSibling;
                navLeft.classList.toggle('active');
            }

            // Close menu when clicking on a link
            document.querySelectorAll('.navbar-left .nav-link').forEach(link => {
                link.addEventListener('click', function() {
                    const hamburger = document.querySelector('.hamburger');
                    if (hamburger.classList.contains('active')) {
                        hamburger.classList.remove('active');
                        hamburger.nextElementSibling.classList.remove('active');
                    }
                });
            });

            // Close menu when clicking outside
            document.addEventListener('click', function(event) {
                const hamburger = document.querySelector('.hamburger');
                const navbar = document.querySelector('.navbar');
                if (!navbar.contains(event.target) && hamburger.classList.contains('active')) {
                    hamburger.classList.remove('active');
                    hamburger.nextElementSibling.classList.remove('active');
                }
            });
        </script>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div style="margin-bottom: 20px;">
                    {% for category, message in messages %}
                        <div style="padding: 10px 15px; border-radius: 4px; margin-bottom: 10px; font-size: 0.9rem; background: {% if category == 'success' %}#00ff8844{% else %}#ff475744{% endif %}; color: {% if category == 'success' %}#00ff88{% else %}#ff4757{% endif %}; border: 1px solid {% if category == 'success' %}#00ff88{% else %}#ff4757{% endif %};">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <!-- Page Content -->
        {% block content %}{% endblock %}
    </div>

    {% block extra_scripts %}{% endblock %}
</body>
</html>
